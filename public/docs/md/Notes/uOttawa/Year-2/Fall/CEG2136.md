# CEG2136 - Computer Architecture I

Fall 2023,
Dr. Voicu Groza,
vgroza@uottawa.ca

## Lec 2

### logic Function

- Representation

  - Truth table
  - Logic/Boolean expression eg: z = x'
  - Logic diagram i.e diagram of the connected gates
  - K-maps

- Logic function is a binary relation that takes a set of inputs and returns a boolean (either True or false)
- N outputs = 2^(N inputs)
- `Propagation delay`: the time it takes for a circuit to respond to an input change
- `Rise-time`: The time it takes a circuit/gate to change from 10% to 90% of its amplitude
- `Fall-time`: The time it takes a circuit/gate to change from 90% to 10% of its amplitude
- you can't infinitely increase the frequency of a circuit since the propagation delay will stay the same and will rather get close to clock period leading to discrepancies in reading.
- How to get rid/reduce the propagation delay? use a better circuit/technology

## Boolean Algebra

### Boolean algebra axioms

- Commutative laws
  - x + y = y + x
  - x.y = y.x
- Associative laws
  - x + (y + z) = (x + y) + z
  - x.(y.z) = (x.y).z
- Distributive laws
  - x.(y + z) = x.y + x.z
  - x + (y.z) = (x + y).(x + z)
- Identity laws
  - x + 0 = x
  - x.1 = x
- Negation laws
  - x + x' = 1
  - x.x' = 0
- Idempotent laws
  - x + x = x
  - x.x = x
- Null laws
  - x + 1 = 1
  - x.0 = 0
- Absorption laws
  - x + (x.y) = x
  - x.(x + y) = x
- De Morgan's laws
  - (x + y)' = x'.y'
  - (x.y)' = x' + y'

### Truth table

- Try ordering your truth table in ascending order of the inputs
- There are 16 possible functions for 2 input variables
- Functions include: AND, OR, NAND, NOR, XOR, XNOR, NOT, X, Y, 0, 1

### Logic expression

### Normal forms

- Disjunctive Normal Form/ SoP(Sum of products)
- COnjunctive Normal Form/ PoS(Product of sums)

### Canonical forms

- SoP == minterms expression

  - where output is 1
  - 0 is represented by complement `x'` and 1 is represented by the variable `x`
  - F(x,y) = ∑m(0,1,2,3)
  - F(x,y) = x'y' + x'y + xy' + xy

- PoS == maxterms expression
  - where output is 0
  - F(x,y) = ∏M(0,1,2,3)
  - F(x,y) = (x+y).(x+y').(x'+y).(x'+y')

## Cost

1. The cost of a circuit is proportional to the number of gate inputs
2. One gate input costs 1 Cost Unit (CU) then the cost of the circuit is the sum of the number of inputs of all gates

- Not gates not counted and assumed to be given for free

# Lec

Wed 13th Sept 2023

### Logic minimization

- `Def`: logic minimization aims to reduce the n of gates and inputs per gate
- `cost function`: the number of gates' inputs
- Minimization will reduce

  - cost
  - power consumption
  - propagation delay

- Manual proc:
  - Boolean algebra rules
  - K-map
- Automatic procedure:
  - Finding all the prime implicants
  - finding the minimum cover form the PI's list

### Boolean uniting theorem

- take 2 elements subsets in the ON-set and remove the variable that is different in the pair

### Minimum cover = ∀ EPI + 1 PI

# Lec

Mon 18th Sept 2023

### Incompletely specified functions/ Dont care conditions

- Undefined situations
- cant happen conditions

### Combinational circuits

- A combinational circuit: is a setup of connected logic gates implementing a logic function. The output of a combinational circuit depends only on the current input values.

### Sequential circuits

- A sequential circuit: is a setup of connected logic gates implementing a logic function. The output of a sequential circuit depends on the current input values, the clock and/or the previous state of the circuit.
- Types:

  - Synchronous: the output changes only at discrete time instants
  - Asynchronous: the output changes as soon as the input changes

- state diagram: directed graph connection of all the possible states of the sequential circuit showing the transitions between states

### Classical automata

```
input x   ->| internal |
            |          |  -> output z
clock     ->|   state  |
```

### Moore automata

- output depends only on the state
- z = f(x), s+ = f(x,s)

### Mealy automata

- output depends on the state and the input
- z = f(x,s), s+ = f(x,s)

### SR latch

| S   | R   | Q(t)+ dt  | instruction |
| --- | --- | --------- | ----------- |
| 0   | 0   | Q(t)      | hold        |
| 0   | 1   | 0         | reset       |
| 1   | 0   | 1         | set         |
| 1   | 1   | Undefined | Undefined   |

### JK flip flop

| J   | K   | Q(t)+ dt | instruction |
| --- | --- | -------- | ----------- |
| 0   | 0   | Q(t)     | hold        |
| 0   | 1   | 0        | reset       |
| 1   | 0   | 1        | set         |
| 1   | 1   | Q'(t)    | toggle      |

- toggle: flip whichever value is stored in memory
- takes care of undefined behavior of SR latch
- `|>` - positive edge triggered (rising edge)
- `O|>` - negative edge triggered (falling edge)

### D flip flop

| D   | Q(t)+ dt | instruction |
| --- | -------- | ----------- |
| 0   | 0        | reset       |
| 1   | 1        | set         |

- usually has an enable input

### T flip flop

| T   | Q(t) | Q(t)+ dt | instruction |
| --- | ---- | -------- | ----------- |
| 0   | 0    | 0        | hold        |
| 0   | 1    | 1        | hold        |
| 1   | 0    | 1        | toggle      |
| 1   | 1    | 0        | toggle      |

- T : toggles which ever value is stored in memory

# Lec

wed 20th Sept 2023

## Sequential circuits - FSM

- FSM (Finite state machine)
- What is an excitation table?

  - A table that shows the next state of the circuit given the current state and the input
  - just flip to have the output as input and inputs as output

- Transition function (delta) δ
- Output function (lambda) λ

- Table
  - input
  - present states of flip flops(memory)
  - next states of flip flops
  - output

| x   | s(t) | s(t+1) | z   |
| --- | ---- | ------ | --- |

| Present | states | Input | Next | state | Output |
| ------- | ------ | ----- | ---- | ----- | ------ |
| A       | B      | x     | A+   | B+    | Y      |
|         |        |       |      |       |        |

### Deriving state diagram from excitation table

- Present states will be the states of the state diagram
- arcs = transitions between each state
  - `input / output`

```
00  -> 0/1 -> 01
|             ^
v 1/0         | 0/1
10  -> 1/0 -> 00
```

### Sequential circuit design flow

1. From the FSM make a state diagram
2. From the state diagram make a state table (without flip flop)
3. State assignment: assign each state to a binary value. For N states you need log2(N) digits
4. Make excitation table (with flip flop values)
5. FInd simplified equations for the flip flops inputs ad circuit outputs
6. Build the circuit

### efficient JK value derivation

| Q   | Q+  | J   | K   |
| --- | --- | --- | --- |
| 0   | 0   | 0   | X   |
| 0   | 1   | 1   | X   |
| 1   | 0   | X   | 1   |
| 1   | 1   | X   | 0   |
